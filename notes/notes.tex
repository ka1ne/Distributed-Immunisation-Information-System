\documentclass{report}

\usepackage[
    style=ieee
    ]{biblatex}
\addbibresource{bitcoin-a-peer-to-peer-electronic-cash-system.bib}
\addbibresource{Distributed-Ledger-Technology.bib}
\addbibresource{BaaS-analysis.bib}
\addbibresource{chaincode-performance-analysis.bib}
\addbibresource{A-Privacy-Preserving-Healthcare-Framework-Using-Hyperledger-Fabric.bib}
\addbibresource{Comparison-of-Smart-Contract-Blockchains-for-Healthcare-Applications.bib}
\addbibresource{distributed-systems-concepts-design.bib}
\addbibresource{GDPR.bib}
\addbibresource{On-the-Security-and-Privacy-of-Hyperledger-Fabric-Challenges-and-Open-Issues.bib}
\addbibresource{Penetration-Testing-Technical-Report.bib}
\addbibresource{Research-advances-on-blockchain-as-a-service-architectures-applications-and-challenges.bib}
\addbibresource{the-byzantine-generals-problem.bib}
\addbibresource{Using-Blockchain-for-Electronic-Health-Records.bib}
\addbibresource{Variants-vaccines-and-vaccination-passports-Challenges-and-chances for-travel-medicine.bib}
\addbibresource{Hyperledger_Arch_WG_Paper_1_Consensus.bib}
\addbibresource{Design-and-Implementation-on-Hyperledger-Based-Emission-Trading-System.bib}

\usepackage{hyperref}

\title{Distributed Immunisation Information System}
\author{Kaine Bent}

\begin{document}

\begin{titlepage}
\maketitle
\end{titlepage}

\begin{abstract}
..
\end{abstract}

\begin{flushleft}

% what are we proposing? A DIIS, which is current infastructure agnostic (because, it's just adding hashes of data to the blockchain, sensetive material is held off-chain by Health Authorities like now)
% an application to access verifications of immunisations, for entering venues and what not
% do we propose a full new way of even storing the actual information, with IPFS or something??? why should we do this, why not? check literature for people wanting upgrades to current IISs

\chapter{Introduction} % come fix refs <----------------------------------------------------------%
Inspired by the ideas of using blockchain to benefit society
through decentralised applications in [5], this project seeks to
design and develop a distributed solution to aid current
immunisation information systems. As mentioned in [6],
current implementations of IISs, especially that in developing
countries, are lacking in terms of technological proficiency.
As stated in [7], IISs are centralised repositories of personally
identifiable vaccination information for individual members of
a served population. This project aims to produce a
decentralised version of an IIS, utilising Decentralised Ledger Technology (DLT) 
which has been highly discussed since the wide adoption of blockchain technology introduced by \cite{nakamoto_bitcoin_2019} - As discussed in \cite{sunyaev_distributed_2020}.
From research such as [9] and [10], we know that blockchain provides the
required security and privacy necessary for implementing
these types of systems. [10] states that blockchain technology
can reform the interoperability of healthcare databases.
The system this project proposes uses a permissioned
blockchain, in which the health authorities of different nations
are trusted nodes in the network. Each health authority will
provide immunisation records of their population to the ledger
– such data will only be accessible by the health authority that
provided it as well as the individual the record belongs to.
This shall be enforced by using asymmetrical cryptography. A
private key will be required to access these records, the key
being held by the individual and their relevant health
authority. This enables the individual’s control over their
immunisation records along with the ability to provide their
private key and verify their immunisations. This, as discussed
in [7], will simplify the processes of vaccination verification
that may be required in pandemic scenarios, registering for
school, starting with a new employer, or crossing international
borders. This system would benefit bodies striving to verify
individuals’ immunisations internationally.
This report explores the required components of such a
system, the professional considerations that are necessary for
building this system such as legislation and ethical concerns,
along with the requirements of an IIS and that of one
implemented using blockchain.


\chapter{Professional considerations}
The system proposed in this project will process personal data,
in the form of immunisation records, so necessitates
consideration of ethical and legal requirements.

\section{BCS Code of Conduct}
This project has been aligned with the BCS Code of Conduct;
relevant sections are as follows:
\renewcommand{\labelenumii}{\alph{enumii}}
 \begin{enumerate}
   \item Public Interest
   You shall:
   \begin{enumerate}
     \item have a due regard for public health, privacy,
     security and wellbeing of others and the environment.
     Encryption methods will be used where necessary to
     ensure the confidentiality of information in the
     system.
     \item have due regard for the legitimate rights of Third
     Parties.
     This system will make use of asymmetric-key
     encryption as well as hash functions to protect data,
     including that of third parties.
     \item promote equal access to the benefits of IT and
     seek to promote the inclusion of all sectors in society
     wherever opportunities arise.
     This project proposes the system detailed be adopted
     by nations to provide a means of access to personal
     immunisation records, enabling ease of access for the
     population.
    \end{enumerate}
   \item Professional Competence and Integrity
   You shall:
   \begin{enumerate}
    \item only undertake to do work or provide a service
    that is within your professional competence.
    \item NOT claim any level of competence that you do
    not possess. This project has been thoroughly considered and the
    conclusion has been reached that it is within my
    professional competence.
    \item develop your professional knowledge, skills and
    competence on a continuing basis. Maintaining
    awareness of technological developments,
    procedures, and standards that are relevant to your
    field.
    This project explores the current solutions for
    immunisation information systems, evolving my
    professional knowledge. This project displays an
    awareness of technological standards and procedures necessary for a distributed IIS.
    \item ensure that you have the knowledge and
    understanding of Legislation and that you comply
    with such Legislation, in carrying out your
    professional responsibilities.
    This project includes a section exploring the
    legislation concerning this system. Specifically, the
    geographic area in which this system is being
    produced and how legislation governs the operations
    of such a system.
    \item respect and value alternative viewpoints and,
    seek, accept and offer honest criticisms of work.
    This project shall regularly be shared with my project
    supervisor to gain alternative viewpoints and
    criticisms, which will be implemented.
    \item avoid injuring others, their property, reputation,
    or employment by false or malicious or negligent
    action or inaction.
    The design section of this project will detail the
    necessary security methods to maintain
    confidentiality, integrity and authenticity in the
    system. % todo <--------------------------------------------- YO!!!!!!
 \end{enumerate}
 \end{enumerate}

 \section{Legislation}
 The General Data Protection Regulation (GDPR) is a privacy
 and security law, passed by the European Union (EU),
 imposes obligations onto organizations that target or collect
 data related to EU citizens and residents.\cite{noauthor_general_nodate} \linebreak[1]

The GDPR sets out several key principles:
\begin{enumerate}
  \item Lawfulness, fairness and transparency
  \item Purpose limitation
  \item Data minimization
  \item Accuracy
  \item Storage limitation
  \item Integrity and confidentiality
  \item Accountability
\end{enumerate}

These stated principles are essential to our approach to
processing personal data. Compliance with the principles
established in the GDPR is fundamental to ensuring good
practice in data protection.
In Article 35(1) of the GDPR it states that a Data Protection
Impact Assessment (DPIA) is required “Where a type of
processing in particular using new technologies, and taking
into account the nature, scope, context and purposes of the
processing, is likely to result in a high risk to the rights and
freedoms of natural persons, the controller shall, prior to the
processing, carry out an assessment of the impact of the
envisaged processing operations on the protection of personal
data. A single assessment may address a set of similar
processing operations that present similar high risks.”. This
asserts that if the system being designed and developed in this
project is implemented in the real world performing a DPIA is
mandatory. Though, a DPIA will not be necessary for this
undertaking.
As the GDPR is mainly concerned with the European
Economic Area (EEA), producing this system in the UK
brings concerns. The UK is currently in a transition period
until the 31st of December 2020. At the end of this transition
period the UK will become a third country. Presently, the UK
is seeking adequacy decisions from the European
Commission. “The effect of an adequacy decision is that
personal data can be sent from an EEA state to a third country
without any further safeguard being necessary” because “The
European Commission has the power to determine whether a
third country has an adequate level of data protection.” [3]. If
the adequacy decision is not secured, by the end of the
transition period, the provisions set out in [4] will take effect.


\chapter{Essential Considerations}

\section{Ethical Implications}

"Issues of concern are falsified or counterfeit vaccine certificates" are described in \cite{schlagenhauf_variants_2021}, when considering digital vaccination passports. 
Blockchain enables an immutable store of data, rendering any attempt at providing a spoofed record would be nullified due to the data the individual provides not being in the ledger.
Hyperledger Fabric, the framework of choice to aid in production of the network, allows access to verify that private data is in fact in a ledger without revealing it. % how is this done? 'https://hyperledger-fabric.readthedocs.io/en/release-2.3/private-data/private-data.html#what-is-private-data'

\section{Data Privacy}

\section{Healthcare Stuff} % change heading

use these: 

\cite{yu_comparison_2020} $<--$ 'Comparison of Smart Contract Blockchains for Healthcare Applications'

\cite{stamatellis_privacy-preserving_2020} $<--$ 'A-Privacy-Preserving-Healthcare-Framework-Using-Hyperledger-Fabric'

\subsection{FHIR}
FHIR - standards for sharing healthcare information.\linebreak[1]

\section{Security}

a reference = \cite{brotsis_security_2020} $<--$ 'On the Security and Privacy of Hyperledger Fabric - Challenges and Open Issues'

Whilst penetration testing Hyperledger Fabric, there was found a high severity issue, which describes the potential to guess the content of a Private Data Collection.
This is achieved using SHA256 as an oracle. To ensure this vulnerability is not available in the system, it is necessary to ensure any private data is salted before being hashed. \cite{shaw_penetration_2019}


\section{Default application SDK}
Go is best for chaincode but what would be the most suitable for the access applications? Java, because it's already highly used in enteprise already? **find reference for this ** 
Java also enables cross-platform usage, most convenient for these systems that are already up and running. - Node satisfies these conditions also, Node has Performance Traffic Engine in fabric-test toolset.
Fabric Network Operator tool, from Hyperledger, also utillises the Node SDK, looking like we might just wanna use Node? Benefits to web app vs desktop? 
Java is probs more secure ** find ref ** but web app with Node would likely be more flexible, as it can be used for the access application as any device runs Node but internet is required.
Java is statically typed, but this is also achieved when using TypeScript with Node - this brings both SDKs to an equal playing field, in terms of maintainability.
Orgs will be able to develop their own applications, enabled by OSS. However, considerations are in place for the best default SDK to use, as the correct choice could simplify adoption.

Does Node possess an advantage in terms of ease of adoption? Can more mobile devices use Node than Java? Does it even matter which SDK? 


\chapter{Chaincode}
Selected Go, as there are apparent benifits outlined in \cite{foschini_hyperledger_2020}

\chapter{Framework selection}
An important decision, which dictates the system requirements. Hyperledger fabric is ... Using their MSPs is different to things like this \href{'https://www.hyperledger.org/blog/2020/04/21/trustid-a-new-approach-to-fabric-user-identity-management'}{TrustID: A New Approach to Fabric User Identity Management} how? Why are we not customising and instead going with fabric's defaut implementation, maybe because it fits our use case better? It makes sense as the orginisations using the system are governed already by their heath body, for UK it's MAYBE Department of Health \& Social Care - look this up! See if there's a general term for lead health body or whatever

Fabric has all the identity functionality built in, Indy + Aries would be more flexible but does that matter with an permissioned network? Fabric MSPs etc vs DIDs? Or does it use DIDs? \href{'https://www.w3.org/TR/did-core/'}{w3 DIDs}

\section{Hyperledger Fabric}
Transaction flow "The SDK serves as a shim to package the transaction proposal into the properly architected format (protocol buffer over gRPC) and takes the user’s cryptographic credentials to produce a unique signature for this transaction proposal." - \href{"https://hyperledger-fabric.readthedocs.io/en/latest/txflow.html'}.\linebreak[1]



\chapter{benefits}
[Covid-19: Vaccines and vaccine passports being sold on darknet] - this system would negate these spoofed vaccination records as all data will be on the system and if not it's illegitimate.
\linebreak[3]

\chapter{System Analysis \& Design}
zero-knowledge asset transfer vs zero-knowledge proof? 

\section{Hyperledger Fabric}
\href{'https://wiki.hyperledger.org/display/fabric/Design+Documents'} WRITE ABOUT THIS!

\subsection{Architecture Overview}
Hyperledger projects follow a design philosophy, which includes a modular, extinsible approach; enabling interoperability.
Design puts an emphasis on secure solutions, crucial to systems using sensitive data.
Hyperledger's token-agnostic approach simplifies bringing blockchain to business infrastructure. % ref?

\subsection{Inspiration} %- from hyperledger fabric projects, redo title
Use $-->$ \cite{yuan_design_2018}.

\subsection{Consensus}
Distributed systems \& consensus, use \cite{lamport_byzantine_1982}. \linebreak[1]

The consensus problem occurs when attempting to achieve reliability in a distributed system, in the presence of faulty processes. 
A system requires processes to reach an \emph agreement on a value after one or more processes propose what the value should be. 
In a system such that: each process $p_i$ communicates with other processes via message passing (we assume communication is reliable), up to some number $f$ of the $N$ processes are faulty, the remainder of processes are correct.\linebreak[1]
Reaching consensus is achieved as follows. 
Every process $ p_i $ starts in an \emph{undecided} state and \emph{proposes} a single value $v_i$.
The processes communicate with eachother and exchange values. 
Each process then sets the value of a \emph{decision variable}, $d_i$. 
In doing so the process enters the \emph{decided} state and can no longer change $d_i$.\cite{coulouris_distributed_2011}
\begin{enumerate}
	\item Termination: Eventually each correct process sets a decision variable.
	\item Agreement: The decision of all correct processes is the same.
	\item Integrity: If the correct processes al proposed the same value, then any correct process in the \emph{decided} state has chosen that value.\cite{coulouris_distributed_2011}
\end{enumerate}

In Hyperledger business blockchain frameworks consensus is reached by performig two seperate activities:
\begin{enumerate}
  \item Ordering of transactions
  \item Validating transactions
\end{enumerate}
In the first step, the transactions are received from the client.
An ordering service is used to order the transactions. 
To enable confidentiality, the ordering service may be agnostic to the transaction; that is, the transaction content can be hashed or encrypted.\cite{noauthor_hyperledger_2017}
This is extremely benificial to this system, as maintaining confidentiality is essential to abiding by the GDPR \cite{noauthor_general_nodate}.

\chapter{Immunisation verification}
smarthealth.cards by Vaccination Credential Initiative (VCI) - smart card framework.\linebreak[1]

Use an SDK to invoke chaincode that compares the provided data (hash of the transaction? - in which your immunisation record is stored) with the hash (SHA-250 probs) of the data in the ledger. If there's no match there's no verification, details?

\chapter{Blockchian-as-a-Service}

Using Blockchain for Electronic Health Records \href{'https://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&arnumber=8863359'} \cite{shahnaz\_using\_2019}


**shortcomings are discussed here: \href{'https://ieeexplore.ieee.org/document/9284197'} \cite{brotsis\_security\_2020} ** . The computing power and security provided by BaaS can make up for the shortcomings aforementioned.\cite{song\_research\_2021}.

Comparing Blockchain-as-a-Service platforms, to identify which tool is most suitable for delpoying the proposed Distributed Immunisation Information System built with Hyperledger Fabric.\linebreak[1]

Beginning, I was aware of two options: Azure and IBM.\linebreak[1]

Reading \cite{onik_performance_2019}.\linebreak[1]

[Performance Analytical Comparison of Blockchain-as-a-Service (BaaS) Platforms] says "Blockchain highly suffers from scalability problem due to its capped transaction
latency as well as consensus approach"\linebreak[1]

Azure have FHIR API, is it the only one? looks like maybe Amazon also \href{'https://azure.microsoft.com/en-gb/services/azure-api-for-fhir/?ocid=AID754288&wt.mc_id=azfr-c9-scottha%2CCFID0475'}{Azure FHIR API}

\end{flushleft}

\printbibliography

\end{document}
